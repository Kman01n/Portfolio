// ===== AI CHATBOT FUNCTIONALITY =====

// COMPREHENSIVE Knowledge Base - All information about Obidah
const knowledgeBase = {
    // ===== TECHNICAL SKILLS =====
    "technical skill": "Obidah's <strong>Technical Skills</strong> include:<br>‚Ä¢ <strong>Frontend Development:</strong> HTML, CSS, JavaScript, Responsive Design<br>‚Ä¢ <strong>Programming:</strong> Python, Machine Learning basics<br>‚Ä¢ <strong>Design Tools:</strong> Photoshop, CorelDRAW, Canva, Photo Editing<br>‚Ä¢ <strong>Productivity:</strong> Microsoft Office Suite (Expert)<br>‚Ä¢ <strong>IT Support:</strong> Technical Support, System Maintenance, Software Installation<br>‚Ä¢ <strong>Backend Exposure:</strong> PHP, MySQL (through collaboration)",
    
    "skill": "Obidah's <strong>Technical Skills</strong> include:<br>‚Ä¢ <strong>Frontend Development:</strong> HTML, CSS, JavaScript, Responsive Design<br>‚Ä¢ <strong>Programming:</strong> Python, Machine Learning basics<br>‚Ä¢ <strong>Design Tools:</strong> Photoshop, CorelDRAW, Canva, Photo Editing<br>‚Ä¢ <strong>Productivity:</strong> Microsoft Office Suite (Expert)<br>‚Ä¢ <strong>IT Support:</strong> Technical Support, System Maintenance, Software Installation<br>‚Ä¢ <strong>Backend Exposure:</strong> PHP, MySQL (through collaboration)",
    
    "html": "Obidah is proficient in <strong>HTML5</strong> for building semantic, accessible website structures. Used in his Octapus.org project and portfolio.",
    
    "css": "Obidah is skilled in <strong>CSS3</strong> including Flexbox, Grid, animations, and responsive design. Created this portfolio with modern CSS techniques.",
    
    "javascript": "Obidah knows <strong>JavaScript</strong> for interactive web features. Built the AI chatbot on this portfolio and frontend logic for Octapus.org.",
    
    "python": "Obidah has <strong>Python</strong> programming skills and is exploring Machine Learning applications.",
    
    "git": "Obidah uses <strong>Git</strong> for version control and collaborates on projects. GitHub: github.com/Kman01n",
    
    // ===== SOFT SKILLS (ENHANCED) =====
    "soft skill": "Obidah's <strong>Soft Skills</strong> include:<br>‚Ä¢ <strong>Teamwork & Collaboration</strong> - Works effectively in teams, values diverse perspectives<br>‚Ä¢ <strong>Patience</strong> - Remains calm under pressure, handles clients with care<br>‚Ä¢ <strong>Time Management</strong> - Balances studies, work, and projects efficiently<br>‚Ä¢ <strong>Adaptability</strong> - Quickly learns new technologies and adjusts to changes<br>‚Ä¢ <strong>Problem Solving</strong> - Analytical thinker with technical troubleshooting experience<br>‚Ä¢ <strong>Emotional Intelligence</strong> - Understands client needs and communicates effectively<br>‚Ä¢ <strong>Communication</strong> - Clear in explaining technical concepts to non-technical users<br>‚Ä¢ <strong>Customer Service</strong> - 8+ years experience helping diverse clients",
    
    "soft": "Obidah's <strong>Soft Skills</strong> include:<br>‚Ä¢ <strong>Teamwork & Collaboration</strong> - Works effectively in teams, values diverse perspectives<br>‚Ä¢ <strong>Patience</strong> - Remains calm under pressure, handles clients with care<br>‚Ä¢ <strong>Time Management</strong> - Balances studies, work, and projects efficiently<br>‚Ä¢ <strong>Adaptability</strong> - Quickly learns new technologies and adjusts to changes<br>‚Ä¢ <strong>Problem Solving</strong> - Analytical thinker with technical troubleshooting experience<br>‚Ä¢ <strong>Emotional Intelligence</strong> - Understands client needs and communicates effectively",
    
    "teamwork": "Obidah has excellent <strong>Teamwork & Collaboration</strong> skills:<br>‚Ä¢ Collaborated on Octapus.org project with backend developer<br>‚Ä¢ 8+ years working in IT support team environments<br>‚Ä¢ Values diverse perspectives and contributes positively<br>‚Ä¢ Shares knowledge and supports team members",
    
    "teamworks": "Obidah has excellent <strong>Teamwork & Collaboration</strong> skills:<br>‚Ä¢ Collaborated on Octapus.org project with backend developer<br>‚Ä¢ 8+ years working in IT support team environments<br>‚Ä¢ Values diverse perspectives and contributes positively<br>‚Ä¢ Shares knowledge and supports team members",
    
    "patience": "Obidah demonstrates strong <strong>Patience</strong>:<br>‚Ä¢ Handles technical issues calmly with clients<br>‚Ä¢ Takes time to explain concepts clearly<br>‚Ä¢ Manages difficult situations with composure<br>‚Ä¢ Developed through 8+ years of IT customer service",
    
    "time management": "Obidah excels at <strong>Time Management</strong>:<br>‚Ä¢ Balances Computer Science studies at Gombe State University<br>‚Ä¢ Manages work as IT Assistant (2016-Present)<br>‚Ä¢ Works on personal projects like this portfolio<br>‚Ä¢ Meets deadlines and prioritizes effectively",
    
    "adaptability": "Obidah is highly <strong>Adaptable</strong>:<br>‚Ä¢ Quickly learns new technologies (taught himself web development)<br>‚Ä¢ Adjusts to different client needs and situations<br>‚Ä¢ Flexible in problem-solving approaches<br>‚Ä¢ Embraces change and continuous learning",
    
    "problem solving": "Obidah has strong <strong>Problem Solving</strong> abilities:<br>‚Ä¢ 8+ years troubleshooting technical issues as IT Assistant<br>‚Ä¢ Analytical approach to debugging and system issues<br>‚Ä¢ Creative solutions for client needs<br>‚Ä¢ Logical thinking developed through Computer Science studies",
    
    "problem-solving": "Obidah has strong <strong>Problem Solving</strong> abilities:<br>‚Ä¢ 8+ years troubleshooting technical issues as IT Assistant<br>‚Ä¢ Analytical approach to debugging and system issues<br>‚Ä¢ Creative solutions for client needs<br>‚Ä¢ Logical thinking developed through Computer Science studies",
    
    "emotional intelligence": "Obidah has high <strong>Emotional Intelligence</strong>:<br>‚Ä¢ Understands client frustrations and addresses them empathetically<br>‚Ä¢ Communicates technical information clearly to non-technical users<br>‚Ä¢ Builds positive relationships with colleagues and clients<br>‚Ä¢ Self-aware and manages stress effectively",
    
    "communication": "Obidah has strong <strong>Communication Skills</strong>:<br>‚Ä¢ Explains technical concepts in simple terms<br>‚Ä¢ Active listener who understands client needs<br>‚Ä¢ Clear written communication (emails, documentation)<br>‚Ä¢ Effective in both team and client interactions",
    
    "customer service": "Obidah has excellent <strong>Customer Service</strong> skills:<br>‚Ä¢ 8+ years assisting diverse clients at Liberty Computer Centre<br>‚Ä¢ Patient and helpful with technical issues<br>‚Ä¢ Builds trust and maintains positive relationships<br>‚Ä¢ Goes above and beyond to solve problems",
    
    // ===== WORK EXPERIENCE =====
    "experience": "Obidah's <strong>Work Experience</strong>:<br>‚Ä¢ <strong>IT Assistant / Technician</strong> at Liberty Computer Centre, Gombi (2016-Present) - 8+ years<br>‚Ä¢ <strong>Digital Photo Lab Assistant</strong> at Fested Photo Lab, Gombi (2021-2022)<br><br>Key responsibilities: Technical support, software installation, system maintenance, photo editing, customer service.",
    
    "work": "Obidah's <strong>Work Experience</strong>:<br>‚Ä¢ <strong>IT Assistant / Technician</strong> at Liberty Computer Centre, Gombi (2016-Present) - 8+ years<br>‚Ä¢ <strong>Digital Photo Lab Assistant</strong> at Fested Photo Lab, Gombi (2021-2022)<br><br>Key responsibilities: Technical support, software installation, system maintenance, photo editing, customer service.",
    
    "it assistant": "Obidah has been an <strong>IT Assistant at Liberty Computer Centre</strong> since 2016 (8+ years). Responsibilities include:<br>‚Ä¢ Technical support and troubleshooting<br>‚Ä¢ Software installations and updates<br>‚Ä¢ Virus removal and system security<br>‚Ä¢ Customer service and training<br>‚Ä¢ Network issue resolution",
    
    "photo lab": "Obidah worked as a <strong>Digital Photo Lab Assistant at Fested Photo Lab</strong> (2021-2022). Skills gained:<br>‚Ä¢ Photo editing with professional software<br>‚Ä¢ Digital printing equipment operation<br>‚Ä¢ Design layout and composition<br>‚Ä¢ Customer order management<br>‚Ä¢ Attention to detail and aesthetics",
    
    // ===== EDUCATION =====
    "education": "Obidah's <strong>Education</strong>:<br>‚Ä¢ <strong>BSc. Computer Science</strong> at Gombe State University (2022-Present)<br>‚Ä¢ <strong>Senior Secondary:</strong> Government Day Secondary School, Gombi (WASSCE/NECO 2021)<br>‚Ä¢ <strong>Primary:</strong> LCCN Cathedral Academy, Gombi (FSLC 2016)",
    
    "study": "Obidah is currently studying <strong>BSc. Computer Science at Gombe State University</strong> (2022-Present). He's passionate about web development, cybersecurity, and AI.",
    
    "university": "Obidah attends <strong>Gombe State University</strong> studying Computer Science. Expected to deepen knowledge in programming, algorithms, and computer systems.",
    
    "computer science": "Obidah is pursuing a <strong>BSc. in Computer Science</strong> to formalize his technical skills and learn advanced topics in programming, algorithms, and system design.",
    
    // ===== PROJECTS =====
    "project": "Obidah's <strong>Projects</strong>:<br>1. <strong>Octapus.org</strong> - Frontend Developer for educational/business platform<br>2. <strong>This Portfolio</strong> - Built from scratch with HTML/CSS/JS<br>3. <strong>AI Chatbot</strong> - Interactive assistant on this portfolio<br><br>GitHub: github.com/Kman01n",
    
    "projects": "Obidah's <strong>Projects</strong>:<br>1. <strong>Octapus.org</strong> - Frontend Developer for educational/business platform<br>2. <strong>This Portfolio</strong> - Built from scratch with HTML/CSS/JS<br>3. <strong>AI Chatbot</strong> - Interactive assistant on this portfolio<br><br>GitHub: github.com/Kman01n",
    
    "octapus": "<strong>Octapus.org</strong> - A platform connecting students and startups with academic/business support.<br><br>Obidah's role: <strong>Frontend Developer</strong><br>Technologies: HTML, CSS, JavaScript<br>Backend: PHP/MySQL (by collaborator)<br>Live at: <a href='https://octapus.org/' target='_blank'>https://octapus.org/</a><br><br>Features: Responsive design, user-friendly interface, service listings.",
    
    "portfolio": "This <strong>portfolio website</strong> was built by Obidah from scratch using:<br>‚Ä¢ HTML5 for structure<br>‚Ä¢ CSS3 with Flexbox/Grid for layout<br>‚Ä¢ JavaScript for interactivity<br>‚Ä¢ Dark theme with electric blue accents<br>‚Ä¢ Fully responsive design<br>‚Ä¢ AI chatbot integration<br>‚Ä¢ Formspree contact form",
    
    // ===== CONTACT & LOCATION =====
    "contact": "Contact <strong>Obidah Niheshi</strong>:<br>üìß Email: niheshiobidah2004@gmail.com<br>üì± Phone: +2347018566002 / +2348102438549<br>üíº LinkedIn: linkedin.com/in/obidah-niheshi<br>üêô GitHub: github.com/Kman01n<br>üìç Location: Gombe, Nigeria (from Adamawa)<br><br>Also on: X (Twitter), Instagram, TikTok, WhatsApp",
    
    "email": "Obidah's email: <strong>niheshiobidah2004@gmail.com</strong><br>Preferred for professional inquiries.",
    
    "phone": "Obidah's phone numbers:<br>‚Ä¢ +2347018566002 (Primary)<br>‚Ä¢ +2348102438549 (Alternate)<br>Available on WhatsApp with the primary number.",
    
    "location": "Obidah is <strong>based in Gombe, Nigeria</strong> for university and work.<br>Originally from <strong>Adamawa State, Nigeria</strong>.<br>Open to remote opportunities and collaborations.",
    
    "nigeria": "Obidah is from <strong>Nigeria</strong>, specifically:<br>‚Ä¢ Current base: Gombe State (for university)<br>‚Ä¢ Hometown: Adamawa State<br>‚Ä¢ Brings Nigerian tech perspective to projects",
    
    // ===== PROFESSIONAL GOALS =====
    "goal": "Obidah's <strong>Professional Goals</strong>:<br>1. Become a proficient <strong>Frontend Developer</strong><br>2. Learn <strong>Cybersecurity fundamentals</strong><br>3. Explore <strong>Artificial Intelligence</strong> and Machine Learning<br>4. Build projects that solve real Nigerian/African problems<br>5. Contribute to tech education in his community",
    
    "cybersecurity": "Obidah is beginning his <strong>cybersecurity journey</strong>, learning fundamentals to understand how to protect the systems he builds. Combining frontend skills with security awareness.",
    
    "frontend": "Obidah is focused on becoming a skilled <strong>Frontend Developer</strong>, mastering HTML, CSS, JavaScript, and modern frameworks. Building responsive, accessible websites.",
    
    "ai": "Obidah is interested in <strong>Artificial Intelligence</strong> and Machine Learning. Exploring how AI can enhance web applications and solve practical problems.",
    
    // ===== PERSONAL BACKGROUND =====
    "background": "Obidah's <strong>Background</strong>:<br>‚Ä¢ Started with IT support at age 12+<br>‚Ä¢ Developed passion for computers through hands-on experience<br>‚Ä¢ Combining practical IT skills with formal Computer Science education<br>‚Ä¢ Passionate about making technology accessible in Nigeria<br>‚Ä¢ Graphic design experience complements technical skills",
    
    "hobby": "Obidah's interests include:<br>‚Ä¢ Web development and design<br>‚Ä¢ Learning about cybersecurity<br>‚Ä¢ Exploring AI technologies<br>‚Ä¢ Graphic design and photo editing<br>‚Ä¢ Solving technical problems<br>‚Ä¢ Keeping up with tech evolution",
    
    // ===== DEFAULT RESPONSES =====
    "hello": "Hello! I'm an AI assistant that knows all about Obidah Niheshi. üòä<br>Ask me about his: skills (technical or soft), experience, education, projects, or contact info!",
    
    "hi": "Hi there! I can tell you about Obidah's technical skills, soft skills, work experience, or education. What would you like to know?",
    
    "who are you": "I'm an AI assistant that knows all about <strong>Obidah Niheshi</strong> - a Frontend Developer and Cybersecurity beginner from Nigeria. I can answer questions about his skills, projects, and experience!",
    
    "help": "You can ask me about:<br>‚Ä¢ Obidah's <strong>technical skills</strong> (HTML, CSS, JS, etc.)<br>‚Ä¢ His <strong>soft skills</strong> (teamwork, patience, problem-solving, etc.)<br>‚Ä¢ <strong>Work experience</strong> (8+ years IT support)<br>‚Ä¢ <strong>Education</strong> (Computer Science student)<br>‚Ä¢ <strong>Projects</strong> (Octapus.org, this portfolio)<br>‚Ä¢ How to <strong>contact</strong> him<br>‚Ä¢ His <strong>goals</strong> and interests",
    
    "thank": "You're welcome! Feel free to ask more about Obidah. He's always open to connecting with fellow developers and tech enthusiasts! üöÄ",
    
    "default": "I'm not sure about that specific detail. Try asking about:<br>‚Ä¢ Obidah's <strong>skills</strong> (technical or soft)<br>‚Ä¢ His <strong>work experience</strong><br>‚Ä¢ <strong>Education</strong> background<br>‚Ä¢ <strong>Projects</strong> like Octapus.org<br>‚Ä¢ How to <strong>contact</strong> him<br><br>Or say 'help' for more options!"
};

// Chatbot elements
const chatbotToggle = document.getElementById('chatbotToggle');
const chatbotModal = document.getElementById('chatbotModal');
const chatbotClose = document.getElementById('chatbotClose');
const chatMessages = document.getElementById('chatMessages');
const chatInput = document.getElementById('chatInput');
const chatSend = document.getElementById('chatSend');

// Toggle chatbot visibility
if (chatbotToggle) {
    chatbotToggle.addEventListener('click', () => {
        chatbotModal.classList.toggle('active');
        // Focus on input when opening
        if (chatbotModal.classList.contains('active')) {
            setTimeout(() => chatInput.focus(), 300);
        }
    });
}

// Close chatbot
if (chatbotClose) {
    chatbotClose.addEventListener('click', () => {
        chatbotModal.classList.remove('active');
    });
}

// Send message function
function sendMessage() {
    const userText = chatInput.value.trim();
    if (!userText) return;
    
    // Add user message
    addMessage(userText, 'user');
    
    // Clear input
    chatInput.value = '';
    
    // Process after delay (simulate thinking)
    setTimeout(() => {
        const botResponse = getBotResponse(userText.toLowerCase());
        addMessage(botResponse, 'bot');
    }, 500);
}

// Add message to chat
function addMessage(text, sender) {
    const messageDiv = document.createElement('div');
    messageDiv.className = `message ${sender}-message`;
    messageDiv.innerHTML = `<p>${text}</p>`;
    
    chatMessages.appendChild(messageDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
}
// Get bot response based on keywords - ENHANCED WITH MORE VARIATIONS
function getBotResponse(userInput) {
    const lowerInput = userInput.toLowerCase();
    
    // ===== GREETINGS & BASIC QUESTIONS =====
    if (lowerInput.includes('who are you') || lowerInput.includes('what are you') || 
        lowerInput.includes('introduce yourself') || lowerInput.includes('tell me about yourself')) {
        return knowledgeBase["who are you"];
    }
    
    if (lowerInput.includes('help') || lowerInput.includes('what can you') || 
        lowerInput.includes('what can i ask') || lowerInput.includes('options') || 
        lowerInput.includes('menu') || lowerInput.includes('commands')) {
        return knowledgeBase.help;
    }
    
    if (lowerInput.includes('thank') || lowerInput.includes('thanks') || 
        lowerInput.includes('appreciate') || lowerInput.includes('good job')) {
        return knowledgeBase.thank;
    }
    
    if (lowerInput.includes('hello') || lowerInput.includes('hey') || 
        lowerInput.includes('good morning') || lowerInput.includes('good afternoon') || 
        lowerInput.includes('good evening') || lowerInput === 'hi') {
        return knowledgeBase.hello;
    }
    
    // ===== TECHNICAL SKILLS VARIATIONS =====
    if (lowerInput.includes('what can you do') || lowerInput.includes('what do you know') || 
        lowerInput.includes('your expertise') || lowerInput.includes('your abilities')) {
        return "I can tell you about Obidah's: <br>‚Ä¢ <strong>Technical Skills</strong> (HTML, CSS, JavaScript, Python, etc.)<br>‚Ä¢ <strong>Soft Skills</strong> (teamwork, problem-solving, etc.)<br>‚Ä¢ <strong>Work Experience</strong><br>‚Ä¢ <strong>Education</strong><br>‚Ä¢ <strong>Projects</strong><br>‚Ä¢ <strong>Contact Information</strong>";
    }
    
    if (lowerInput.includes('tech') || lowerInput.includes('programming') || 
        lowerInput.includes('coding') || lowerInput.includes('hard skill') || 
        lowerInput.includes('technical') || lowerInput.includes('code') || 
        lowerInput.includes('developer skill') || lowerInput.includes('web development') || 
        lowerInput.includes('frontend') || lowerInput.includes('what languages') || 
        lowerInput.includes('what technologies') || lowerInput.includes('tech stack')) {
        return knowledgeBase.skill;
    }
    
    // Specific tech questions
    if (lowerInput.includes('does he know') && (lowerInput.includes('html') || lowerInput.includes('css') || lowerInput.includes('js') || lowerInput.includes('javascript') || lowerInput.includes('python'))) {
        if (lowerInput.includes('html')) return knowledgeBase.html;
        if (lowerInput.includes('css')) return knowledgeBase.css;
        if (lowerInput.includes('js') || lowerInput.includes('javascript')) return knowledgeBase.javascript;
        if (lowerInput.includes('python')) return knowledgeBase.python;
    }
    
    // ===== SOFT SKILLS VARIATIONS =====
    if (lowerInput.includes('soft skill') || lowerInput.includes('personal skill') || 
        lowerInput.includes('interpersonal') || lowerInput.includes('people skill') || 
        lowerInput.includes('personality') || lowerInput.includes('how is he as a person') || 
        lowerInput.includes('his personality') || lowerInput.includes('work ethic') || 
        lowerInput.includes('how does he work') || lowerInput.includes('collaboration') || 
        lowerInput.includes('team player')) {
        return knowledgeBase["soft skill"];
    }
    
    // Individual soft skills
    if (lowerInput.includes('team') || lowerInput.includes('collaborat') || 
        lowerInput.includes('work with others') || lowerInput.includes('group work')) {
        return knowledgeBase.teamwork;
    }
    
    if (lowerInput.includes('patient') || lowerInput.includes('calm') || 
        lowerInput.includes('handle pressure') || lowerInput.includes('stress')) {
        return knowledgeBase.patience;
    }
    
    if (lowerInput.includes('time') || lowerInput.includes('manage') || 
        lowerInput.includes('schedule') || lowerInput.includes('busy') || 
        lowerInput.includes('multiple task') || lowerInput.includes('deadline')) {
        return knowledgeBase["time management"];
    }
    
    if (lowerInput.includes('adapt') || lowerInput.includes('flexible') || 
        lowerInput.includes('change') || lowerInput.includes('learn new') || 
        lowerInput.includes('quick learner')) {
        return knowledgeBase.adaptability;
    }
    
    if (lowerInput.includes('problem') || lowerInput.includes('solve') || 
        lowerInput.includes('troubleshoot') || lowerInput.includes('fix') || 
        lowerInput.includes('debug') || lowerInput.includes('analytical')) {
        return knowledgeBase["problem solving"];
    }
    
    if (lowerInput.includes('emotional') || lowerInput.includes('empathy') || 
        lowerInput.includes('understand people') || lowerInput.includes('client') || 
        lowerInput.includes('customer')) {
        return knowledgeBase["emotional intelligence"];
    }
    
    if (lowerInput.includes('communicat') || lowerInput.includes('talk') || 
        lowerInput.includes('explain') || lowerInput.includes('speak') || 
        lowerInput.includes('present')) {
        return knowledgeBase.communication;
    }
    
    // ===== WORK EXPERIENCE VARIATIONS =====
    if (lowerInput.includes('work') || lowerInput.includes('job') || 
        lowerInput.includes('career') || lowerInput.includes('experience') || 
        lowerInput.includes('background') || lowerInput.includes('professional') || 
        lowerInput.includes('where has he worked') || lowerInput.includes('previous job') || 
        lowerInput.includes('work history') || lowerInput.includes('employment')) {
        return knowledgeBase.experience;
    }
    
    if (lowerInput.includes('it assistant') || lowerInput.includes('technical support') || 
        lowerInput.includes('computer repair') || lowerInput.includes('it job') || 
        lowerInput.includes('liberty computer')) {
        return knowledgeBase["it assistant"];
    }
    
    if (lowerInput.includes('photo lab') || lowerInput.includes('photo edit') || 
        lowerInput.includes('graphic design') || lowerInput.includes('design work')) {
        return knowledgeBase["photo lab"];
    }
    
    // ===== EDUCATION VARIATIONS =====
    if (lowerInput.includes('school') || lowerInput.includes('university') || 
        lowerInput.includes('degree') || lowerInput.includes('study') || 
        lowerInput.includes('education') || lowerInput.includes('graduate') || 
        lowerInput.includes('student') || lowerInput.includes('learn') || 
        lowerInput.includes('where did he study') || lowerInput.includes('what did he study')) {
        return knowledgeBase.education;
    }
    
    if (lowerInput.includes('computer science') || lowerInput.includes('bsc') || 
        lowerInput.includes('degree in') || lowerInput.includes('gombe state')) {
        return knowledgeBase["computer science"];
    }
    
    // ===== PROJECTS VARIATIONS =====
    if (lowerInput.includes('project') || lowerInput.includes('build') || 
        lowerInput.includes('create') || lowerInput.includes('made') || 
        lowerInput.includes('portfolio') || lowerInput.includes('work sample') || 
        lowerInput.includes('what has he built') || lowerInput.includes('showcase') || 
        lowerInput.includes('github') || lowerInput.includes('code project')) {
        return knowledgeBase.project;
    }
    
    if (lowerInput.includes('octapus') || lowerInput.includes('website') || 
        lowerInput.includes('platform') || lowerInput.includes('student help') || 
        lowerInput.includes('business support')) {
        return knowledgeBase.octapus;
    }
    
    if (lowerInput.includes('this website') || lowerInput.includes('portfolio site') || 
        lowerInput.includes('current site') || lowerInput.includes('personal website')) {
        return knowledgeBase.portfolio;
    }
    
    // ===== CONTACT VARIATIONS =====
    if (lowerInput.includes('contact') || lowerInput.includes('email') || 
        lowerInput.includes('phone') || lowerInput.includes('reach') || 
        lowerInput.includes('connect') || lowerInput.includes('get in touch') || 
        lowerInput.includes('how to contact') || lowerInput.includes('hire') || 
        lowerInput.includes('available') || lowerInput.includes('message him') || 
        lowerInput.includes('call') || lowerInput.includes('whatsapp')) {
        return knowledgeBase.contact;
    }
    
    if (lowerInput.includes('email address') || lowerInput.includes('send email') || 
        lowerInput.includes('mail')) {
        return knowledgeBase.email;
    }
    
    if (lowerInput.includes('phone number') || lowerInput.includes('call him') || 
        lowerInput.includes('whatsapp number') || lowerInput.includes('mobile')) {
        return knowledgeBase.phone;
    }
    
    // ===== LOCATION VARIATIONS =====
    if (lowerInput.includes('where') || lowerInput.includes('location') || 
        lowerInput.includes('nigeria') || lowerInput.includes('from') || 
        lowerInput.includes('based') || lowerInput.includes('live') || 
        lowerInput.includes('reside') || lowerInput.includes('address') || 
        lowerInput.includes('city') || lowerInput.includes('country') || 
        lowerInput.includes('gombe') || lowerInput.includes('adamawa')) {
        return knowledgeBase.location;
    }
    
    // ===== GOALS & INTERESTS =====
    if (lowerInput.includes('goal') || lowerInput.includes('aspiration') || 
        lowerInput.includes('future') || lowerInput.includes('plan') || 
        lowerInput.includes('want to be') || lowerInput.includes('dream') || 
        lowerInput.includes('aim') || lowerInput.includes('objective')) {
        return knowledgeBase.goal;
    }
    
    if (lowerInput.includes('cybersecurity') || lowerInput.includes('security') || 
        lowerInput.includes('hack') || lowerInput.includes('protect')) {
        return knowledgeBase.cybersecurity;
    }
    
    if (lowerInput.includes('ai') || lowerInput.includes('artificial intelligence') || 
        lowerInput.includes('machine learning') || lowerInput.includes('ml')) {
        return knowledgeBase.ai;
    }
    
    if (lowerInput.includes('interest') || lowerInput.includes('hobby') || 
        lowerInput.includes('like to do') || lowerInput.includes('passion') || 
        lowerInput.includes('enjoy')) {
        return knowledgeBase.hobby;
    }
    
    // ===== ABOUT/SUMMARY =====
    if (lowerInput.includes('about him') || lowerInput.includes('tell me about obidah') || 
        lowerInput.includes('who is obidah') || lowerInput.includes('summary') || 
        lowerInput.includes('overview') || lowerInput.includes('brief') || 
        lowerInput === 'obidah') {
        return "Obidah Niheshi is a <strong>Frontend Developer and Cybersecurity beginner</strong> from Nigeria. He's currently studying Computer Science at Gombe State University while working as an IT Assistant. He has <strong>8+ years of technical support experience</strong> and is passionate about web development, cybersecurity, and AI. He built the frontend for Octapus.org and this portfolio website.";
    }
    
    // ===== SIMPLE YES/NO QUESTIONS =====
    if (lowerInput.includes('is he') || lowerInput.includes('does he have') || 
        lowerInput.includes('can he')) {
        if (lowerInput.includes('experience')) return "Yes! Obidah has 8+ years of IT support experience.";
        if (lowerInput.includes('skill') || lowerInput.includes('technical')) return "Yes! Obidah has various technical skills including HTML, CSS, JavaScript, and Python.";
        if (lowerInput.includes('degree') || lowerInput.includes('education')) return "Yes! He's studying Computer Science at Gombe State University.";
        if (lowerInput.includes('project')) return "Yes! He built Octapus.org and this portfolio website.";
        if (lowerInput.includes('available') || lowerInput.includes('hire')) return "Yes! Obidah is open to opportunities. Use the contact form or email him directly.";
    }
    
    // Check all knowledge base entries (fallback)
    for (const [keyword, response] of Object.entries(knowledgeBase)) {
        if (lowerInput.includes(keyword)) {
            return response;
        }
    }
    
    // Default response with suggestions
    return knowledgeBase.default;
}

// Event listeners for chatbot
if (chatSend) {
    chatSend.addEventListener('click', sendMessage);
}

if (chatInput) {
    chatInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            sendMessage();
        }
    });
}

// Close chatbot when clicking outside
document.addEventListener('click', (e) => {
    if (chatbotModal && chatbotToggle && !chatbotModal.contains(e.target) && !chatbotToggle.contains(e.target)) {
        chatbotModal.classList.remove('active');
    }
});

// ===== FORM SUBMISSION WITH AJAX =====
const contactForm = document.getElementById('contactForm');

if (contactForm) {
    contactForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const formData = new FormData(this);
        formData.append('_subject', 'New message from your portfolio');
        
        // Show loading state
        const submitText = document.getElementById('submitText');
        const loadingSpinner = document.getElementById('loadingSpinner');
        const submitButton = contactForm.querySelector('button[type="submit"]');
        
        submitText.style.display = 'none';
        loadingSpinner.style.display = 'inline';
        submitButton.disabled = true;
        
 // Clear any previous messages
 const messageContainer = document.getElementById('formMessageContainer');
 messageContainer.innerHTML = '';
 messageContainer.className = '';
 
 try {
     const response = await fetch('https://formspree.io/f/mvgeelnk', {
         method: 'POST',
         body: formData,
         headers: { 'Accept': 'application/json' }
     });
     
     if (response.ok) {
         showFormMessage(' Message sent successfully! I\'ll get back to you soon.', 'success');
         document.getElementById('formName').value = '';
         document.getElementById('formEmail').value = '';
         document.getElementById('formMessage').value = '';
         
         setTimeout(() => {
             submitButton.disabled = false;
         }, 3000);
     } else {
         showFormMessage('‚ùå Failed to send message. Please try again or email me directly.', 'error');
         submitButton.disabled = false;
     }
 } catch (error) {
     showFormMessage('‚ùå Network error. Please email me directly at: niheshiobidah2004@gmail.com', 'error');
     submitButton.disabled = false;
 } finally {
     submitText.style.display = 'inline';
     loadingSpinner.style.display = 'none';
 }
 });
 }
 
 function showFormMessage(text, type) {
     const container = document.getElementById('formMessageContainer');
     container.innerHTML = `<p class="form-${type}"><i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i> ${text}</p>`;
     container.className = `form-message form-${type}`;
     
     if (type === 'success') {
         setTimeout(() => {
             container.innerHTML = '';
             container.className = '';
         }, 5000);
     }
 }
 
 // ===== EXISTING CODE =====
 const menuToggle = document.querySelector('.menu-toggle');
 const navMenu = document.querySelector('.nav-menu');
 
 if (menuToggle) {
     menuToggle.addEventListener('click', () => {
         navMenu.classList.toggle('active');
         const icon = menuToggle.querySelector('i');
         if (navMenu.classList.contains('active')) {
             icon.classList.remove('fa-bars');
             icon.classList.add('fa-times');
         } else {
             icon.classList.remove('fa-times');
             icon.classList.add('fa-bars');
         }
     });
 }
 
 const navLinks = document.querySelectorAll('.nav-menu a');
 navLinks.forEach(link => {
     link.addEventListener('click', () => {
         navMenu.classList.remove('active');
         const icon = menuToggle.querySelector('i');
         icon.classList.remove('fa-times');
         icon.classList.add('fa-bars');
     });
 });
 
 const codeLink = document.getElementById('code-link');
 if (codeLink) {
     codeLink.addEventListener('click', function(e) {
         e.preventDefault();
         alert("The code for this project isn't in a public repository yet. The code for THIS portfolio site will be available on GitHub once we upload it together!");
     });
 }
 
 // Update copyright year
 const currentYearSpan = document.getElementById('currentYear');
 if (currentYearSpan) {
     currentYearSpan.textContent = new Date().getFullYear();
 }
 // ===== ENHANCED CV DOWNLOAD =====
const downloadCvBtn = document.getElementById('downloadCvBtn');

if (downloadCvBtn) {
    downloadCvBtn.addEventListener('click', function(e) {
        // Optional: Add a small delay to show loading
        const originalText = this.innerHTML;
        this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Downloading...';
        this.style.opacity = '0.7';
        
        // Reset after 1.5 seconds
        setTimeout(() => {
            this.innerHTML = originalText;
            this.style.opacity = '1';
            
            // Optional notification
            showTempNotification(' CV download started!', 'success');
        }, 1500);
    });
}

// Helper for temporary notifications
function showTempNotification(message, type) {
    const notification = document.createElement('div');
    notification.className = `download-notification ${type}`;
    notification.innerHTML = `<p><i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i> ${message}</p>`;
    
    // Style the notification
    notification.style.position = 'fixed';
    notification.style.top = '20px';
    notification.style.right = '20px';
    notification.style.padding = '12px 20px';
    notification.style.background = type === 'success' ? 'rgba(0, 217, 255, 0.9)' : 'rgba(255, 50, 50, 0.9)';
    notification.style.color = 'white';
    notification.style.borderRadius = '8px';
    notification.style.zIndex = '9999';
    notification.style.boxShadow = '0 4px 12px rgba(0,0,0,0.2)';
    notification.style.animation = 'slideIn 0.3s ease';
    
    document.body.appendChild(notification);
    
    // Remove after 3 seconds
    setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => {
            if (notification.parentNode) {
                notification.parentNode.removeChild(notification);
            }
        }, 300);
    }, 3000);
}

// Add CSS animations for notifications
const style = document.createElement('style');
style.textContent = `
    @keyframes slideIn {
        from {
            transform: translateX(100%);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }
    
    @keyframes slideOut {
        from {
            transform: translateX(0);
            opacity: 1;
        }
        to {
            transform: translateX(100%);
            opacity: 0;
        }
    }
`;
document.head.appendChild(style);